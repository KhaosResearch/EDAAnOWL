@prefix : <https://w3id.org/EDAAnOWL/> .
@prefix test: <https://w3id.org/EDAAnOWL/test/> .
@prefix ids: <https://w3id.org/idsa/core/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix bigalg: <https://w3id.org/BIGOWLAlgorithms/> .
@prefix bigprob: <https://w3id.org/BIGOWLProblems/> .
@prefix bigdat: <https://w3id.org/BIGOWLData/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix gsp: <http://www.opengis.net/ont/geosparql#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix agrovoc: <http://aims.fao.org/aos/agrovoc/> .
@prefix theme: <http://publications.europa.eu/resource/authority/data-theme/> .

<https://w3id.org/EDAAnOWL/test/> rdf:type owl:Ontology ;
    owl:imports <https://w3id.org/EDAAnOWL/> ;
    dct:title "EDAAnOWL Test Instances"@en ;
    dct:description "Minimal test instances for SHACL validation using AGROVOC URIs verified from vocabularies."@en .

### Stub definitions for external concepts (enables offline validation)
### EU Data Theme NAL: http://publications.europa.eu/resource/authority/data-theme

theme:AGRI a skos:Concept ;
    skos:prefLabel "Agriculture, fisheries, forestry and food"@en .

### VERIFIED AGROVOC codes from observed-properties.ttl exactMatch alignments

agrovoc:c_ce585e0d a skos:Concept, sosa:ObservableProperty ;  # NDVI
    skos:prefLabel "NDVI"@en .

agrovoc:c_24993 a skos:Concept, sosa:ObservableProperty ;     # Water stress
    skos:prefLabel "Water Stress"@en .

### Mock BIGOWL concepts for testing
test:TestAlgorithm a bigalg:Algorithm .
test:TestProblem a bigprob:Problem .
test:TestDataClass a bigdat:Data .

### External class declarations for reasoning
sosa:ObservableProperty rdf:type owl:Class .
gsp:Geometry rdf:type owl:Class .
time:Interval rdf:type owl:Class .

### Test Instances

test:ValidApp a ids:DataApp ;
    dct:title "Valid Test App"@en ;
    :parameter test:TestAlgorithm ; 
    :hasDomainSector theme:AGRI .

test:ValidResource a ids:DataResource ;
    dct:title "Valid Test Resource"@en ;
    :hasDomainSector theme:AGRI ;
    ids:representation test:ValidResource_Repr .

test:ValidResource_Repr a :DataRepresentation ;
    dct:format "text/csv" ;
    dcat:accessURL <https://example.org/resource/data.csv> ;
    dct:license <http://example.org/license> ;
    ids:instance [ a ids:Artifact ; ids:fileName "data.csv" ] ;
    :conformsToProfile test:TestProfile .

test:ValidDataAsset a :DataAsset ;
    dct:title "Valid Data Asset"@en ;
    :servesObservableProperty agrovoc:c_ce585e0d ;  # NDVI
    ids:representation test:ValidDataAsset_Repr ;
    prov:wasGeneratedBy test:ValidApp .

test:ValidDataAsset_Repr a :DataRepresentation ;
    dct:format "text/csv" ;
    dcat:accessURL <https://example.org/asset/data.csv> ;
    dct:license <http://example.org/license> ;
    ids:instance [ a ids:Artifact ; ids:fileName "data.csv" ] ;
    :conformsToProfile test:TestProfile .

test:TestProfile a :DataProfile ; 
    dct:title "Test Profile"@en ;
    :declaresDataClass test:TestDataClass ;
    :declaresObservedProperty agrovoc:c_ce585e0d ;  # NDVI
    :hasMetric test:DummyMetric .

test:ValidSpatialAsset a :SpatialTemporalAsset ;
    dct:title "Valid Spatial Asset"@en ;
    :servesObservableProperty agrovoc:c_ce585e0d ;  # NDVI
    :hasSpatialCoverage [ a gsp:Geometry ] ;
    :hasTemporalCoverage [ a time:Interval ] ;
    ids:representation test:ValidSpatialAsset_Repr .

test:ValidSpatialAsset_Repr a :DataRepresentation ;
    dct:format "GeoTIFF" ;
    dcat:accessURL <https://example.org/spatial/data.tif> ;
    dct:license <http://example.org/license> ;
    ids:instance [ a ids:Artifact ; ids:fileName "data.tif" ] ;
    :conformsToProfile test:TestProfile .

test:ValidService a :PredictionApp ;
    dct:title "Valid Analytical Service"@en ;
    :producesObservableProperty agrovoc:c_24993 ;  # Water stress
    :hasDomainSector theme:AGRI .

test:DummyMetric a :Metric, :QualityMetric, dqv:QualityMetric ;
    :metricName "testMetric" ;
    :metricValue "1.0"^^xsd:decimal .