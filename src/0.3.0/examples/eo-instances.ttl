@prefix : <https://w3id.org/EDAAnOWL/> .
@prefix ex: <http://example.org/data/eo/> .
@prefix ids: <https://w3id.org/idsa/core/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix gsp: <http://www.opengis.net/ont/geosparql#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .

<http://example.org/data/eo/> rdf:type owl:Ontology ;
    owl:imports <https://w3id.org/EDAAnOWL/> ;
    dct:title "Earth Observation (EO) Instance Examples"@en .

###
### Use Case 1: Earth Observation (EO) Data Asset
###
# A Data Asset that is a Sentinel-2 satellite image
# and uses the new model: SpatialTemporalAsset

ex:Sentinel2_NDVI_Jaen_2024 a :SpatialTemporalAsset ;
    dct:title "Sentinel-2 NDVI for Jaén (2024)"@en ;
    :hasDomainSector :agriculture ;
    :supportContact [
        rdf:type vcard:Kind ;
        vcard:hasEmail <mailto:data@eo.example.com> ;
        vcard:fn "EO Data Support"
    ] ;
    ids:representation ex:Sentinel2GeoTIFF ;

    # --- Properties of the new model (v0.1.0) ---

    :hasTemporalCoverage [
        a time:Interval ;
        time:hasBeginning [
            time:inXSDDate "2024-01-01T00:00:00Z"^^xsd:dateTime
        ] ;
        time:hasEnd [
            time:inXSDDate "2024-12-31T23:59:59Z"^^xsd:dateTime
        ]
    ] ;

    :hasSpatialCoverage [
        a gsp:Geometry ;
        gsp:asWKT "<http://www.opengis.net/def/crs/OGC/1.3/CRS84> POLYGON((-4.0 38.0, -3.5 38.0, -3.5 37.5, -4.0 37.5, -4.0 38.0))"^^gsp:wktLiteral
    ] ;

    :servesObservableProperty :ndvi ;
    :conformsToProfile ex:Profile_Sentinel_NDVI .

ex:Sentinel2GeoTIFF a ids:Representation ;
    dct:format "GeoTIFF" ;
    ids:mediaType <https://www.iana.org/assignments/media-types/image/tiff> ;
    dct:language "en" .

###
### Use Case 2: Prediction App (SmartDataApp)
###
# A predictive app that calculates water stress (v0.3.0 SmartDataApp branch)
ex:WaterStressCalculator a :PredictionApp ;
    dct:title "Water Stress Calculator"@en ;
    :hasDomainSector :agriculture ;
    :supportContact [
        rdf:type vcard:Kind ;
        vcard:hasEmail <mailto:data@eo.example.com> ;
        vcard:fn "EO Data Support"
    ] ;

    # 1. Semantic Input
    :requiresObservableProperty :ndvi ,
                                :temperature ;

    # 2. Semantic Output
    :producesObservableProperty :waterStress .

###
### Use Case 3: Classic Data Asset (Station Data)
###
# A tabular data asset from a weather station
# that complements Case 2

ex:WeatherStation_Jaen_2024 a :DataAsset ;
    dct:title "Jaén Weather Station (2024)"@en ;
    :hasDomainSector :agriculture ;
    :servesObservableProperty :temperature ;
    :conformsToProfile ex:Profile_Weather_Station .

# Observable variables used in the examples
:ndvi a :ObservableProperty .
:temperature a :ObservableProperty .
:waterStress a :ObservableProperty .

# Optional: Context view (Contract Offer) on the raster asset
ex:BasicUsePolicy a odrl:Policy , ids:ContractOffer ;
  odrl:permission [
    a odrl:Permission ;
    odrl:action odrl:use
  ] .

ex:Profile_Sentinel_NDVI a :DataProfile ;
    :declaresDataClass :georaster ;
    :hasMetric [
        a :QualityMetric ;
        :metricName "CloudCover" ;
        :metricValue "5"^^xsd:decimal ;
        :metricUnit "%"
    ] .

# Perfil para la estación meteorológica
ex:Profile_Weather_Station a :DataProfile ;
    :declaresDataClass :tabular ;
    :hasMetric [
        a :QualityMetric ;
        :metricName "recordCount" ;
        :metricValue "8760"^^xsd:integer
    ] .

ex:Sentinel2_NDVI_Jaen_2024 ids:contractOffer ex:BasicUsePolicy .

# Optional: Endpoint (Context view)
ex:RasterDownloadEndpoint a ids:ResourceEndpoint ;
  dct:description "HTTPS endpoint for raster download"@en .

ex:Sentinel2_NDVI_Jaen_2024 ids:resourceEndpoint ex:RasterDownloadEndpoint .