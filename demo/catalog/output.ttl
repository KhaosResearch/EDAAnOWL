@prefix : <https://w3id.org/EDAAnOWL/> .
@prefix bigalg: <https://w3id.org/BIGOWLAlgorithms/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix edaan: <https://w3id.org/EDAAnOWL/> .
@prefix ids: <https://w3id.org/idsa/core/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix agrovoc: <http://aims.fao.org/aos/agrovoc/> .

# ============================================================================
# DEMO: EDAAnOWL v0.5.0 - DataApps and Profiles with AGROVOC URIs
# Generated from DCAT Catalog transformation
# ============================================================================

# AGROVOC Stub Definitions (for offline validation)
agrovoc:c_ce585e0d a skos:Concept ; skos:prefLabel "NDVI"@en .
agrovoc:c_7657 a skos:Concept ; skos:prefLabel "Temperature"@en .
agrovoc:c_6161 a skos:Concept ; skos:prefLabel "Precipitation"@en .
agrovoc:c_6496 a skos:Concept ; skos:prefLabel "Relative Humidity"@en .
agrovoc:c_7208 a skos:Concept ; skos:prefLabel "Soil Moisture"@en .
agrovoc:c_8488 a skos:Concept ; skos:prefLabel "Yield"@en .
agrovoc:c_35196 a skos:Concept ; skos:prefLabel "LAI"@en .
agrovoc:c_12926 a skos:Concept ; skos:prefLabel "Olives"@en .
edaan:agriculture a skos:Concept ; skos:prefLabel "Agriculture"@en .
# Local concepts without AGROVOC exactMatch
edaan:evi a skos:Concept ; skos:prefLabel "EVI"@en .
edaan:repiloIncidence a skos:Concept ; skos:prefLabel "Repilo Incidence"@en .
edaan:yieldForecast a skos:Concept ; skos:prefLabel "Yield Forecast"@en .

# --- METEO App ---
<https://w3id.org/EDAAnOWL/demo/METEO1.0.0> a ids:DataApp ;
    dct:title "METEO"@en ;
    dct:description "Esta aplicación permite extraer y procesar variables meteorológicas."@en ;
    edaan:hasDomainSector edaan:agriculture ;  # Agriculture
    edaan:conformsToProfile <https://w3id.org/EDAAnOWL/demo/METEO1.0.0/profile> ;
    edaan:supportContact [
        a vcard:Kind ;
        vcard:fn "METEO Support" ;
        vcard:hasEmail <mailto:meteo@example.com>
    ] .

<https://w3id.org/EDAAnOWL/demo/METEO1.0.0/profile> a edaan:DataProfile ;
    dct:title "METEO Output Profile"@en ;
    edaan:declaresDataClass edaan:tabular ;
    edaan:declaresObservedProperty 
        agrovoc:c_7657,   # Temperature
        agrovoc:c_6161,   # Precipitation
        agrovoc:c_6496 ;  # Relative Humidity
    edaan:hasMetric [
        a edaan:Metric, edaan:QualityMetric, dqv:QualityMetric ;
        edaan:metricName "completeness" ;
        edaan:metricValue "0.99"^^xsd:decimal
    ] .

# --- Olivarum App ---
<https://w3id.org/EDAAnOWL/demo/Olivarum1.0.0> a ids:DataApp ;
    dct:title "Olivarum"@en ;
    dct:description "Este mapa muestra la distribución de las variedades de olivos en Andalucía."@en ;
    edaan:hasDomainSector edaan:agriculture ;  # Agriculture
    edaan:topic agrovoc:c_12926 ;              # Olives
    edaan:conformsToProfile <https://w3id.org/EDAAnOWL/demo/Olivarum1.0.0/profile> .

<https://w3id.org/EDAAnOWL/demo/Olivarum1.0.0/profile> a edaan:DataProfile ;
    dct:title "Olivarum Data Profile"@en ;
    edaan:declaresDataClass edaan:geovector ;
    edaan:declaresObservedProperty agrovoc:c_8488 ;  # Yield
    edaan:hasMetric [
        a edaan:Metric, edaan:QualityMetric, dqv:QualityMetric ;
        edaan:metricName "completeness" ;
        edaan:metricValue "0.99"^^xsd:decimal
    ] .

# --- Repilo Prediction App ---
<https://w3id.org/EDAAnOWL/demo/Repilo1.0.0> a edaan:PredictionApp, ids:SmartDataApp, ids:DataApp ;
    dct:title "Repilo"@en ;
    dct:description """El repilo del olivo es una enfermedad causada por hongos del género Spilocaea 
que afecta a las hojas, frutos y ramas jóvenes del olivo, reduciendo la productividad del árbol. 
Este modelo utiliza datos climáticos (temperatura, humedad y precipitación) y la ecuación del 
Modelo Beta Generalizado para calcular la incidencia del repilo en diferentes regiones geográficas."""@en ;
    edaan:hasDomainSector edaan:agriculture ;  # Agriculture
    edaan:topic agrovoc:c_12926 ;              # Olives
    # Input requirements
    edaan:requiresObservableProperty 
        agrovoc:c_7657,   # Temperature
        agrovoc:c_6496,   # Relative Humidity
        agrovoc:c_6161 ;  # Precipitation
    edaan:requiresProfile <https://w3id.org/EDAAnOWL/demo/METEO1.0.0/profile> ;
    # Output
    edaan:producesObservableProperty edaan:repiloIncidence ;  # Repilo Incidence (local, no AGROVOC)
    edaan:producesProfile <https://w3id.org/EDAAnOWL/demo/Repilo1.0.0/profile> .

<https://w3id.org/EDAAnOWL/demo/Repilo1.0.0/profile> a edaan:DataProfile ;
    dct:title "Repilo Prediction Output Profile"@en ;
    edaan:declaresDataClass edaan:tabular ;
    edaan:declaresObservedProperty edaan:repiloIncidence ;  # Repilo Incidence (local)
    edaan:hasMetric [
        a edaan:Metric, edaan:PerformanceMetric ;
        edaan:metricName "modelAccuracy" ;
        edaan:metricValue "0.85"^^xsd:decimal
    ] .

# --- Satellite Indexes App ---
<https://w3id.org/EDAAnOWL/demo/SatelliteIndexes1.0.0> a ids:DataApp ;
    dct:title "Satellite Indexes"@en ;
    dct:description "Esta aplicación permite analizar datos geoespaciales mediante índices derivados de imágenes satelitales."@en ;
    edaan:hasDomainSector edaan:agriculture ;  # Agriculture
    edaan:conformsToProfile <https://w3id.org/EDAAnOWL/demo/SatelliteIndexes1.0.0/profile> .

<https://w3id.org/EDAAnOWL/demo/SatelliteIndexes1.0.0/profile> a edaan:DataProfile ;
    dct:title "Satellite Indexes Profile"@en ;
    edaan:declaresDataClass edaan:georaster ;
    edaan:declaresObservedProperty 
        agrovoc:c_ce585e0d,  # NDVI
        edaan:evi,           # EVI (local, no AGROVOC exactMatch)
        agrovoc:c_35196 ;    # LAI
    edaan:hasMetric [
        a edaan:Metric, edaan:QualityMetric, dqv:QualityMetric ;
        edaan:metricName "cloudCoverage" ;
        edaan:metricValue "5"^^xsd:decimal ;
        edaan:metricUnit "%"
    ] .

# --- Yield Prediction App ---
<https://w3id.org/EDAAnOWL/demo/YieldPrediction1.0.0> a edaan:PredictionApp, ids:SmartDataApp, ids:DataApp ;
    dct:title "Yield Prediction"@en ;
    dct:description """Crop Temporal Series Forecasting is a platform that provides tools to support 
decision-making for farmers in agriculture. The platform uses multivariate time series analysis 
to forecast crop yields using ML algorithms including Random Forest and SARIMAX."""@en ;
    edaan:hasDomainSector edaan:agriculture ;  # Agriculture
    edaan:topic agrovoc:c_12926 ;              # Olives
    # Input requirements
    edaan:requiresObservableProperty 
        agrovoc:c_ce585e0d,  # NDVI
        agrovoc:c_7657,      # Temperature
        agrovoc:c_6161,      # Precipitation
        agrovoc:c_7208 ;     # Soil Moisture
    edaan:requiresProfile <https://w3id.org/EDAAnOWL/demo/SatelliteIndexes1.0.0/profile> ;
    # Output
    edaan:producesObservableProperty edaan:yieldForecast ;  # Yield Forecast (local)
    edaan:producesProfile <https://w3id.org/EDAAnOWL/demo/YieldPrediction1.0.0/profile> ;
    # BIGOWL algorithm links
    edaan:implementsAlgorithm bigalg:RandomForest, bigalg:SARIMAX .

<https://w3id.org/EDAAnOWL/demo/YieldPrediction1.0.0/profile> a edaan:DataProfile ;
    dct:title "Yield Prediction Output Profile"@en ;
    edaan:declaresDataClass edaan:tabular ;
    edaan:declaresObservedProperty edaan:yieldForecast ;  # Yield Forecast (local)
    edaan:hasMetric [
        a edaan:Metric, edaan:PerformanceMetric ;
        edaan:metricName "modelAccuracy" ;
        edaan:metricValue "0.87"^^xsd:decimal
    ] ,
    [
        a edaan:Metric, edaan:PerformanceMetric ;
        edaan:metricName "f1Score" ;
        edaan:metricValue "0.82"^^xsd:decimal
    ] .
